{# app/templates/guests/_poster_eval_modal.html #}
<div class="space-y-1">
  <h3 id="modal-title" class="text-lg font-semibold text-slate-800">
    Avaliar pôster — Grupo #{{ group.id }}
  </h3>
  <p class="text-sm text-slate-600 break-words">{{ group.title or 'Sem título' }}</p>
</div>

<div class="rounded-xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5">
  <div class="mb-2 font-medium">Alunos</div>
  <ul class="list-disc pl-5 space-y-1 max-h-48 overflow-auto text-sm leading-snug">
    {% for s in students %}
      <li class="break-words">
        {{ s.name }} — RGM {{ s.rgm }}
        {% if s.campus %} — {{ s.campus.name }}{% endif %}
        {% if s.offering %} — {{ s.offering.code }}{% endif %}
      </li>
    {% endfor %}
  </ul>
</div>

<form method="post" action="{{ url_for('guests.poster_submit') }}" class="mt-4 space-y-4">
  <input type="hidden" name="group_id" value="{{ group.id }}">
  <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

  {% set items = [
    ('mat','Qualidade do material de exposição (pôster)'),
    ('cri','Criatividade do pôster'),
    ('exp','Capacidade de exposição'),
    ('pos','Postura na apresentação'),
    ('dom','Domínio do assunto'),
    ('imp','Importância do tema expressa pela equipe'),
    ('tmp','Tempo adequado de exposição')
  ] %}

  {% for key, label in items %}
    <div class="min-w-0">
      <div class="mb-1 text-sm font-medium text-slate-700 break-words">{{ label }}</div>
      {# 2 colunas no mobile, 3 no sm, 5 no md+: #}
      <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-2">
        {% for val, txt in [(1,'Insatisfatório'),(2,'Regular'),(3,'Bom'),(4,'Muito bom'),(5,'Excelente')] %}
          <label class="relative min-w-0 select-none cursor-pointer">
            <input
              type="radio"
              name="{{ key }}"
              value="{{ val }}"
              required
              class="peer sr-only"
            >
            <div
              class="rounded-md border border-slate-200 px-3 py-2 text-sm text-slate-700
                     text-center whitespace-normal break-words
                     hover:bg-slate-50 transition
                     peer-checked:border-indigo-500 peer-checked:bg-indigo-50 peer-checked:ring-2 peer-checked:ring-indigo-500"
            >
              {{ txt }}
            </div>
          </label>
        {% endfor %}
      </div>
    </div>
  {% endfor %}

  <div>
    <label class="block text-sm text-slate-600 mb-1">Observações (opcional)</label>
    <textarea
      name="comments" rows="3"
      class="w-full rounded-md border border-slate-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500 text-sm"
    ></textarea>
  </div>

  <div class="flex flex-wrap gap-2 pt-2">
    <button type="submit"
            class="inline-flex items-center gap-2 rounded-md bg-indigo-600 text-white px-4 py-2 text-sm hover:bg-indigo-700">
      <i class="fa-solid fa-floppy-disk"></i> Salvar avaliação
    </button>
    <button type="button"
            class="modal-close inline-flex items-center gap-2 rounded-md border border-slate-200 bg-white px-4 py-2 text-sm hover:bg-slate-50">
      Cancelar
    </button>
  </div>
</form>
